<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
		<meta charset="UTF-8" />
	  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	  <title>Animated Responsive Image Grid</title>
	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <meta name="description" content="Animated Responsive Image Grid - Cycling through a set of images in a responsive grid." />
	  <meta name="keywords" content="grid, images, thumbnails, responsive, css3, jquery, javascript, random, transition, 3d, perspective" />
	  <meta name="author" content="Codrops" />

		<!-- ここのCSSとJSはすべて必要 -->
	  <link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<link rel="stylesheet" type="text/css" href="css/modal.css" />
		<script type="text/javascript" src="js/modernizr.custom.26633.js"></script>

  </head>
  <body>
	<img src="images/loading.gif" style="display:none;"/>

    <div class="container">
			<section class="main">
				<div id="ri-grid" class="ri-grid ri-grid-size-2">
					<img class="ri-loading-image" src="images/loading.gif"/>
					<ul>
						<!--
							このlitタグはforeachでpictureの分繰り返し
							aタグのid部分にはpictureのidを
							liタグのid部分にはpictureのパスを
							それぞれsetIdAndImgPathに引数で渡してmodal_viewにセットしてる
						 -->
						<li id="images/medium/shinya.jpg"><a href="#modal_view" class="modal" id="1"><img src="images/medium/shinya.jpg"/></a></li>
						<li id="images/medium/2.jpg"><a href="#modal_view" class="modal" id="2"> <img src="images/medium/2.jpg"/></a></li>
						<li id="images/medium/3.jpg"><a href="#modal_view" class="modal" id="3"> <img src="images/medium/3.jpg"/></a></li>
						<li id="images/medium/4.jpg"><a href="#modal_view" class="modal" id="4"> <img src="images/medium/4.jpg"/></a></li>
						<li id="images/medium/5.jpg"><a href="#modal_view" class="modal" id="5"> <img src="images/medium/5.jpg"/></a></li>
						<li id="images/medium/6.jpg"><a href="#modal_view" class="modal" id="6"> <img src="images/medium/6.jpg"/></a></li>
						<li id="images/medium/7.jpg"><a href="#modal_view" class="modal" id="7"> <img src="images/medium/7.jpg"/></a></li>
						<li id="images/medium/8.jpg"><a href="#modal_view" class="modal" id="8"> <img src="images/medium/8.jpg"/></a></li>
						<li id="images/medium/9.jpg"><a href="#modal_view" class="modal" id="9"> <img src="images/medium/9.jpg"/></a></li>
						<li id="images/medium/10.jpg"><a href="#modal_view" class="modal" id="10"><img src="images/medium/10.jpg"/></a></li>
						<li id="images/medium/11.jpg"><a href="#modal_view" class="modal" id="11"><img src="images/medium/11.jpg"/></a></li>
						<li id="images/medium/12.jpg"><a href="#modal_view" class="modal" id="12"><img src="images/medium/12.jpg"/></a></li>
						<li id="images/medium/13.jpg"><a href="#modal_view" class="modal" id="13"><img src="images/medium/13.jpg"/></a></li>
						<li id="images/medium/14.jpg"><a href="#modal_view" class="modal" id="14"><img src="images/medium/14.jpg"/></a></li>
						<li id="images/medium/15.jpg"><a href="#modal_view" class="modal" id="15"><img src="images/medium/15.jpg"/></a></li>
						<li id="images/medium/16.jpg"><a href="#modal_view" class="modal" id="16"><img src="images/medium/16.jpg"/></a></li>
						<li id="images/medium/17.jpg"><a href="#modal_view" class="modal" id="17"><img src="images/medium/17.jpg"/></a></li>
						<li id="images/medium/18.jpg"><a href="#modal_view" class="modal" id="18"><img src="images/medium/18.jpg"/></a></li>
						<li id="images/medium/19.jpg"><a href="#modal_view" class="modal" id="19"><img src="images/medium/19.jpg"/></a></li>
						<li id="images/medium/20.jpg"><a href="#modal_view" class="modal" id="20"><img src="images/medium/20.jpg"/></a></li>
						<li id="images/medium/21.jpg"><a href="#modal_view" class="modal" id="21"><img src="images/medium/21.jpg"/></a></li>
						<li id="images/medium/22.jpg"><a href="#modal_view" class="modal" id="22"><img src="images/medium/22.jpg"/></a></li>
						<li id="images/medium/23.jpg"><a href="#modal_view" class="modal" id="23"><img src="images/medium/23.jpg"/></a></li>
						<li id="images/medium/24.jpg"><a href="#modal_view" class="modal" id="24"><img src="images/medium/24.jpg"/></a></li>
						<li id="images/medium/25.jpg"><a href="#modal_view" class="modal" id="25"><img src="images/medium/25.jpg"/></a></li>
						<li id="images/medium/26.jpg"><a href="#modal_view" class="modal" id="26"><img src="images/medium/26.jpg"/></a></li>
						<li id="images/medium/27.jpg"><a href="#modal_view" class="modal" id="27"><img src="images/medium/27.jpg"/></a></li>
						<li id="images/medium/28.jpg"><a href="#modal_view" class="modal" id="28"><img src="images/medium/28.jpg"/></a></li>
						<li id="images/medium/29.jpg"><a href="#modal_view" class="modal" id="29"><img src="images/medium/29.jpg"/></a></li>
						<li id="images/medium/30.jpg"><a href="#modal_view" class="modal" id="30"><img src="images/medium/30.jpg"/></a></li>
						<li id="images/medium/31.jpg"><a href="#modal_view" class="modal" id="31"><img src="images/medium/31.jpg"/></a></li>
						<li id="images/medium/32.jpg"><a href="#modal_view" class="modal" id="32"><img src="images/medium/32.jpg"/></a></li>
						<li id="images/medium/33.jpg"><a href="#modal_view" class="modal" id="33"><img src="images/medium/33.jpg"/></a></li>
						<li id="images/medium/34.jpg"><a href="#modal_view" class="modal" id="34"><img src="images/medium/34.jpg"/></a></li>
						<li id="images/medium/35.jpg"><a href="#modal_view" class="modal" id="35"><img src="images/medium/35.jpg"/></a></li>
						<li id="images/medium/36.jpg"><a href="#modal_view" class="modal" id="36"><img src="images/medium/36.jpg"/></a></li>
						<li id="images/medium/37.jpg"><a href="#modal_view" class="modal" id="37"><img src="images/medium/37.jpg"/></a></li>
						<li id="images/medium/38.jpg"><a href="#modal_view" class="modal" id="38"><img src="images/medium/38.jpg"/></a></li>
						<li id="images/medium/39.jpg"><a href="#modal_view" class="modal" id="39"><img src="images/medium/39.jpg"/></a></li>
						<li id="images/medium/40.jpg"><a href="#modal_view" class="modal" id="40"><img src="images/medium/40.jpg"/></a></li>
						<li id="images/medium/41.jpg"><a href="#modal_view" class="modal" id="41"><img src="images/medium/41.jpg"/></a></li>
						<li id="images/medium/42.jpg"><a href="#modal_view" class="modal" id="42"><img src="images/medium/42.jpg"/></a></li>
						<li id="images/medium/43.jpg"><a href="#modal_view" class="modal" id="43"><img src="images/medium/43.jpg"/></a></li>
						<li id="images/medium/44.jpg"><a href="#modal_view" class="modal" id="44"><img src="images/medium/44.jpg"/></a></li>
						<li id="images/medium/45.jpg"><a href="#modal_view" class="modal" id="45"><img src="images/medium/45.jpg"/></a></li>
						<li id="images/medium/46.jpg"><a href="#modal_view" class="modal" id="46"><img src="images/medium/46.jpg"/></a></li>
						<li id="images/medium/47.jpg"><a href="#modal_view" class="modal" id="47"><img src="images/medium/47.jpg"/></a></li>
						<li id="images/medium/48.jpg"><a href="#modal_view" class="modal" id="48"><img src="images/medium/48.jpg"/></a></li>
						<li id="images/medium/49.jpg"><a href="#modal_view" class="modal" id="49"><img src="images/medium/49.jpg"/></a></li>
						<li id="images/medium/50.jpg"><a href="#modal_view" class="modal" id="50"><img src="images/medium/50.jpg"/></a></li>
						<li id="images/medium/51.jpg"><a href="#modal_view" class="modal" id="51"><img src="images/medium/51.jpg"/></a></li>
						<li id="images/medium/52.jpg"><a href="#modal_view" class="modal" id="52"><img src="images/medium/52.jpg"/></a></li>
						<li id="images/medium/53.jpg"><a href="#modal_view" class="modal" id="53"><img src="images/medium/53.jpg"/></a></li>
						<li id="images/medium/54.jpg"><a href="#modal_view" class="modal" id="54"><img src="images/medium/54.jpg"/></a></li>
					</ul>
				</div>
			</section>
    </div>

    <!-- Modalビュー CSSで非表示に設定 -->
    <!-- このビューのデザインはmodal.cssにて行う -->
    <div id="modal_view" class="modal_hidden modal_view">
			<img src="" alt="">
    	<p><a class="modal-move" href="#">詳細へ</a></p>
    	<p><a class="modal-close" href="#">閉じる</a></p>
    </div>
    <!-- //CSSで非表示に設定 -->

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script type="text/javascript" src="js/jquery.gridrotator.js"></script>
		<script type="text/javascript" src="js/simpleModalWindow.js"></script>

		<script type="text/javascript">
			$(function() {

				$( '#ri-grid' ).gridrotator( {
					preventClick : false,
					rows		: 3,
					columns		: 15,
					// animType	: 'fadeInOut',
					// animSpeed	: 1000,
					// interval	: 600,
					step		: 1,
					w320		: {
						rows	: 3,
						columns	: 4
					},
					w240		: {
						rows	: 3,
						columns	: 4
					}
				} );

			});
		</script>

		<script type="text/javascript">
			// パネルの中からタップされた画像のidを取得しmodal画面のmodal-moveクラスを持ったaタグにid属性として追加
			function setIdAndImgPath(id, img_path) {
				console.log(id);
				console.log(img_path);
				var target_tag = $("#modal_view").find('.modal-move');
				console.log(target_tag); // id属性を追加する前のaタグ
				target_tag.attr('id', id);
				console.log(target_tag);　// id属性を追加した後のaタグ

				var target_img_tag = $('#modal_view').find('img');
				target_img_tag.attr('src', img_path);
			}

			$(document).ready(function() {
				$('.modal-move').click(function() {
					var id = this.id;
					console.log(id);
					// jsで遷移
					// 遷移先のパスはMVCに合わせて作成
					window.location.href = 'show.html?' + id;
				});
			});
		</script>

  </body>
</html>
